# Космический Телеграм

Бот для Telegram, который автоматически публикует космические изображения из различных источников (NASA APOD, NASA EPIC, SpaceX) с заданным интервалом. Изображения загружаются, сохраняются локально и отправляются в указанный чат.

## Как установить

1. **Клонируйте репозиторий:**
   ```bash
   git clone [ваш_репозиторий]
   cd [папка_проекта]
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Получите API-ключи:**
   - **NASA API**: Зарегистрируйтесь на [NASA API Portal](https://api.nasa.gov/) и получите ключ.
   - **Telegram Bot Token**: Создайте бота через [BotFather](https://t.me/BotFather) и сохраните токен.
   - **Chat ID**: Узнайте ID чата, куда бот будет отправлять сообщения (можно использовать бота @userinfobot).

4. **Создайте файл `.env`** в корне проекта и добавьте ключи:
   ```plaintext
   TELEGRAM_CHAT_ID=ваш_ID_чата
   NASA_API_TOKEN=ваш_ключ_NASA
   TELEGRAM_BOT_TOKEN=ваш_токен_бота_Telegram
   ```

## Как использовать

### Запуск публикации скаченных фотографий
```bash
python telegram_publisher.py
```
Бот автоматически:
1. Создаст папку `images` (если её нет)
2. Начнёт публиковать ранее загруженные фото в Telegram с интервалом 4 часа

### Ручная загрузка изображений (отдельные команды)

Перед выполнением этих команд убедитесь, что вы находитесь в той же директории, где находится файл `.env`.

1. **Загрузка изображений NASA APOD:**
   ```bash
   python -c "from dotenv import load_dotenv; load_dotenv(); from save_apod import save_apod; save_apod()"
   ```

2. **Загрузка изображений NASA EPIC:**
   ```bash
   python -c "from dotenv import load_dotenv; load_dotenv(); from save_epic import save_EPIC; save_EPIC()"
   ```

3. **Загрузка фотографий SpaceX:**
   ```bash
   python -c "from dotenv import load_dotenv; load_dotenv(); from spacex import fetch_spacex_last_launch; fetch_spacex_last_launch('images')"
   ```

## Как проверить работу

1. После выполнения любой из команд загрузки проверьте папку `images` - в ней должны появиться новые файлы.
2. Для проверки работы бота:
   - Убедитесь, что бот добавлен в указанный чат
   - Выполните команду, находясь в директории всего проекта: `python main.py`
   - Проверьте, что бот начал отправлять сообщения с изображениями
   - Проверьте, что интервал между сообщениями составляет 4 часа

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/). Проект демонстрирует работу с API, обработку изображений и интеграцию с Telegram.

## Функционал
- Загрузка изображений от NASA (APOD и EPIC)
- Загрузка последних фотографий запусков SpaceX
- Автоматическая публикация изображений в Telegram с настраиваемым интервалом
- Сжатие изображений при необходимости для соответствия ограничениям Telegram

## Требования
- Python 3.6+
- Зависимости: `requests`, `python-telegram-bot`, `python-dotenv`, `Pillow`
```